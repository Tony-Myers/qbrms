% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_fitting.R
\name{qbrms}
\alias{qbrms}
\title{Drop random-effect terms from a formula}
\usage{
qbrms(
  formula,
  data,
  family = gaussian(),
  prior = NULL,
  sample_prior = "no",
  quantile = 0.5,
  control.compute = list(dic = TRUE, waic = TRUE, cpo = TRUE),
  verbose = TRUE,
  ...
)
}
\arguments{
\item{formula}{Model formula in lme4/brms style}

\item{data}{Data frame containing the variables in the model}

\item{family}{Model family (default: gaussian()). Ordinal families automatically route to qbrmO()}

\item{prior}{Prior specifications (default: NULL)}

\item{sample_prior}{Whether to sample from priors ("no", "yes", "only"). Default: "no"}

\item{quantile}{For asymmetric_laplace family, which quantile to estimate (default: 0.5)}

\item{control.compute}{INLA control settings for model information criteria}

\item{verbose}{Logical; print diagnostic information (default: TRUE)}

\item{...}{Additional arguments passed to fitting functions}
}
\value{
A qbrms_fit object with model results, or routed to appropriate specialist function
}
\description{
Enhanced qbrms interface with automatic routing to specialised implementations.
Supports ordinal regression via TMB, quantile regression, and all standard INLA families.
}
\details{
Removes any "(... | ...)" blocks from the RHS and keeps a syntactically
valid formula. Cleans up dangling '+' and ensures there is at least "~ 1"
if all terms are removed.

This function automatically detects ordinal families (cumulative, ordinal) and routes
them to the TMB-based qbrmO() implementation for superior numerical performance.
Standard families use INLA, while maintaining a consistent user interface.
}
\examples{
\dontrun{
# Standard regression (uses INLA)
fit1 <- qbrms(y ~ x, data = mydata, family = gaussian())

# Ordinal regression (automatically routes to qbrmO)
fit2 <- qbrms(satisfaction ~ treatment, data = survey, family = cumulative())

# Quantile regression  
fit3 <- qbrms(y ~ x, data = mydata, family = asymmetric_laplace(), quantile = 0.9)
}

}
\seealso{
\code{\link{qbrmO}} for direct ordinal model fitting
}
\keyword{Automatic}
\keyword{Bayesian}
\keyword{Models}
\keyword{Quick}
\keyword{Regression}
\keyword{Routing}
\keyword{internal}
\keyword{with}
