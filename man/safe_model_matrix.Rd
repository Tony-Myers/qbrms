% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/edge_case_fixes.R
\name{safe_model_matrix}
\alias{safe_model_matrix}
\title{Safe construction of model matrices}
\usage{
safe_model_matrix(formula, data, max_cols = 100)
}
\arguments{
\item{formula}{A model formula.}

\item{data}{A \code{data.frame}.}

\item{max_cols}{Integer; warn if more than this many columns are produced.}
}
\value{
A numeric matrix suitable for downstream computations.
}
\description{
Attempt to build \code{model.matrix()} with additional checks for
size and rank, and fall back to an intercept-only matrix on failure.
}
\keyword{internal}
